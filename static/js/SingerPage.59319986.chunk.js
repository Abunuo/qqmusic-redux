webpackJsonp([2,4],{93:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.SingerSongPage=void 0;var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n(2),c=a(s),u=n(10),p=n(13),d=n(36),f=n(26),g=n(55),h=a(g),m=n(54),_=a(m),v=n(24),b=n(25);n(97);var y=t.SingerSongPage=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),l(t,[{key:"componentWillMount",value:function(){var e=this.props,t=e.loadSingerSong,n=e.song,a=(0,b.getPathLastFromProps)(this.props);n.lastFetchMid&&n.lastFetchMid===a||t(Object.assign({},v.LOAD_SINGER_SONG_CONFIG,{singermid:a}))}},{key:"componentWillReceiveProps",value:function(e){var t=this.props,n=t.location.pathname,a=t.loadSingerSong;if(e.location.pathname!==n){var r=(0,b.getPathLastFromProps)(e);a(Object.assign({},v.LOAD_SINGER_SONG_CONFIG,{singermid:r}))}}},{key:"handleNavClick",value:function(e){var t=this.props,n=t.loadSingerSong,a=t.song.begin,r=(0,b.getPathLastFromProps)(this.props),i=e.target.getAttribute("value"),o=v.LOAD_SINGER_SONG_CONFIG.num;i&&n(Object.assign({},v.LOAD_SINGER_SONG_CONFIG,{begin:"next"===i?a+o:"prev"===i?a-o:(i-1)*o,singermid:r}))}},{key:"render",value:function(){if(this.props.song.data){var e=this.props.song,t=e.begin,n=e.data,a=n.list,r=n.total,i=Math.ceil(r/v.LOAD_SINGER_SONG_CONFIG.num),o=Math.floor(t/v.LOAD_SINGER_SONG_CONFIG.num)+1;return c.default.createElement("div",{className:"singer_songlist_wrap"},c.default.createElement(h.default,{datas:a,playSelectedSong:this.props.playSelectedSong}),c.default.createElement(_.default,{curpage:o,totalpage:i,handleNavClick:this.handleNavClick.bind(this)}))}return c.default.createElement("div",null,"加载中...")}}]),t}(s.Component),S=(0,p.createSelector)(d.getSinger,function(e){return{song:e.song.toJS()}}),x={loadSingerSong:d.singerActions.loadSingerSong,playSelectedSong:f.playerActions.playSelectedSong};t.default=(0,u.connect)(S,x)(y)},95:function(e,t,n){t=e.exports=n(17)(),t.push([e.id,".singer_songlist_wrap{position:absolute;width:100%;height:100%;padding-bottom:240px;overflow:auto}",""])},97:function(e,t,n){var a=n(95);"string"==typeof a&&(a=[[e.id,a,""]]);n(20)(a,{});a.locals&&(e.exports=a.locals)},288:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.SingerPageNav=void 0;var r=n(2),i=a(r),o=n(12);n(330);var l=t.SingerPageNav=function(e){var t=e.mid;return i.default.createElement("div",{className:"singer_page_nav"},i.default.createElement("ul",null,i.default.createElement("li",null,i.default.createElement(o.IndexLink,{to:"/singer/song/"+t,activeClassName:"active"},"歌曲")),i.default.createElement("li",null,i.default.createElement(o.Link,{to:"/singer/album/"+t,activeClassName:"active"},"专辑")),i.default.createElement("li",null,i.default.createElement(o.Link,{to:"/singer/mv/"+t,activeClassName:"active"},"MV")),i.default.createElement("li",null,i.default.createElement(o.Link,{to:"/singer/similar/"+t,activeClassName:"active"},"相似歌手"))))};l.propTypes={mid:r.PropTypes.string.isRequired},t.default=l},290:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.SingerPage=void 0;var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n(2),c=a(s),u=n(10),p=n(13),d=n(93),f=a(d),g=n(288),h=a(g),m=n(25),_=n(36),v=n(24);n(329);var b=t.SingerPage=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),l(t,[{key:"componentWillReceiveProps",value:function(e){var t=e.loadSingerData,n=e.data,a=(0,m.getPathLastFromProps)(e);n.lastFetchMid&&n.lastFetchMid===a||t({singermid:a})}},{key:"render",value:function(){var e=this.props,t=e.children,n=e.data.data,a=(0,m.getPathLastFromProps)(this.props);if(n){var r=n.singer_name,i=n.fans,o=n.SingerDesc;return c.default.createElement("div",null,c.default.createElement("div",{className:"singer_page_header"},c.default.createElement("img",{alt:r,className:"data_photo",src:""+v.SINGER_PHOTO_300_URL+a+".jpg"}),c.default.createElement("div",{className:"data_box"},c.default.createElement("span",{className:"data_name_txt"},r),c.default.createElement("span",{className:"data_fans_txt"},"粉丝数：",i),c.default.createElement("div",{className:"data_desc"},o))),c.default.createElement(h.default,{mid:a}),t||c.default.createElement(f.default,null))}return c.default.createElement("div",null,"加载中...",c.default.createElement(h.default,{mid:a}),t||c.default.createElement(f.default,null))}}]),t}(s.Component),y=(0,p.createSelector)(_.getSinger,function(e){return{data:e.data.toJS()}}),S={loadSingerData:_.singerActions.loadSingerData};t.default=(0,u.connect)(y,S)(b)},300:function(e,t,n){t=e.exports=n(17)(),t.push([e.id,".singer_page_header{width:100%;height:200px;position:relative;background:-webkit-linear-gradient(top,#ebebeb,#fff);background:linear-gradient(180deg,#ebebeb 0,#fff)}.data_photo{border-radius:200px;width:180px;height:180px;margin-top:10px;margin-left:20px}.data_box{position:absolute;left:300px;top:0;height:100%;margin:15px 20px 15px 0}.data_name_txt{display:block;height:30px;line-height:30px;font-size:30px;font-weight:400;text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.data_fans_txt{display:inline-block;height:30px;line-height:30px;font-size:16px;color:#333}.data_desc{height:120px;text-overflow:ellipsis;overflow:auto;width:100%}",""])},301:function(e,t,n){t=e.exports=n(17)(),t.push([e.id,".singer_page_nav{width:100%;padding-left:20px;height:40px;line-height:40px;border-bottom:2px solid #f2f2f2}.singer_page_nav li{float:left;width:100px;display:inline-block}.singer_page_nav li a{display:inline-block;height:40px;line-height:40px;width:100%;text-align:center}.singer_page_nav li a.active{color:#31c27c;border-bottom:2px solid #31c27c}",""])},329:function(e,t,n){var a=n(300);"string"==typeof a&&(a=[[e.id,a,""]]);n(20)(a,{});a.locals&&(e.exports=a.locals)},330:function(e,t,n){var a=n(301);"string"==typeof a&&(a=[[e.id,a,""]]);n(20)(a,{});a.locals&&(e.exports=a.locals)}});
//# sourceMappingURL=SingerPage.59319986.chunk.js.map