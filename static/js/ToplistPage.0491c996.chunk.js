webpackJsonp([1],{175:function(e,t,o){(function(e){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.forceCheck=t.lazyload=void 0;var l=function(){function e(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),s=o(2),c=n(s),u=o(152),p=n(u),f=o(430),d=o(431),_=n(d),m=o(429),h=n(m),g=o(432),y=n(g),v=o(428),b=n(v),w="data-lazyload-listened",E=[],k=[],x=function(e,t){var o=p.default.findDOMNode(e),n=t.getBoundingClientRect(),r=n.top,i=n.height,a=window.innerHeight||document.documentElement.clientHeight,l=Math.max(r,0),s=Math.min(a,r+i)-l,c=o.getBoundingClientRect(),u=c.top,f=c.height,d=u-l,_=Array.isArray(e.props.offset)?e.props.offset:[e.props.offset,e.props.offset];return d-_[0]<=s&&d+f+_[1]>=0},O=function(e){var t=p.default.findDOMNode(e),o=t.getBoundingClientRect(),n=o.top,r=o.height,i=window.innerHeight||document.documentElement.clientHeight,a=Array.isArray(e.props.offset)?e.props.offset:[e.props.offset,e.props.offset];return n-a[0]<=i&&n+r+a[1]>=0},P=function(e){var t=p.default.findDOMNode(e);if(t){var o=(0,_.default)(t),n=o!==t.ownerDocument&&o!==document&&o!==document.documentElement,r=n?x(e,o):O(e);r?e.visible||(e.props.once&&k.push(e),e.visible=!0,e.forceUpdate()):e.props.once&&e.visible||(e.visible=!1,e.props.unmountIfInvisible&&e.forceUpdate())}},T=function(){k.forEach(function(e){var t=E.indexOf(e);t!==-1&&E.splice(t,1)}),k=[]},N=function(){for(var e=0;e<E.length;++e){var t=E[e];P(t)}T()},j=void 0,M=null,z=function(e){function t(e){r(this,t);var o=i(this,Object.getPrototypeOf(t).call(this,e));return o.visible=!1,o}return a(t,e),l(t,[{key:"componentDidMount",value:function(){var e=!1;if(void 0!==this.props.debounce&&"throttle"===j?(console.warn("[react-lazyload] Previous delay function is `throttle`, now switching to `debounce`, try setting them unanimously"),e=!0):"debounce"===j&&void 0===this.props.debounce&&(console.warn("[react-lazyload] Previous delay function is `debounce`, now switching to `throttle`, try setting them unanimously"),e=!0),e&&((0,f.off)(window,"scroll",M),(0,f.off)(window,"resize",M),M=null),M||(void 0!==this.props.debounce?(M=(0,h.default)(N,"number"==typeof this.props.debounce?this.props.debounce:300),j="debounce"):(M=(0,y.default)(N,"number"==typeof this.props.throttle?this.props.throttle:300),j="throttle")),this.props.overflow){var t=(0,_.default)(p.default.findDOMNode(this));if(t){var o=1+ +t.getAttribute(w);1===o&&t.addEventListener("scroll",M),t.setAttribute(w,o)}}else if(0===E.length||e){var n=this.props,r=n.scroll,i=n.resize;r&&(0,f.on)(window,"scroll",M),i&&(0,f.on)(window,"resize",M)}E.push(this),P(this)}},{key:"shouldComponentUpdate",value:function(){return this.visible}},{key:"componentWillUnmount",value:function(){if(this.props.overflow){var e=(0,_.default)(p.default.findDOMNode(this));if(e){var t=+e.getAttribute(w)-1;0===t?(e.removeEventListener("scroll",M),e.removeAttribute(w)):e.setAttribute(w,t)}}var o=E.indexOf(this);o!==-1&&E.splice(o,1),0===E.length&&((0,f.off)(window,"resize",M),(0,f.off)(window,"scroll",M))}},{key:"render",value:function(){return this.visible?this.props.children:this.props.placeholder?this.props.placeholder:c.default.createElement("div",{style:{height:this.props.height},className:"lazyload-placeholder"})}}]),t}(s.Component);z.propTypes={once:s.PropTypes.bool,height:s.PropTypes.oneOfType([s.PropTypes.number,s.PropTypes.string]),offset:s.PropTypes.oneOfType([s.PropTypes.number,s.PropTypes.arrayOf(s.PropTypes.number)]),overflow:s.PropTypes.bool,resize:s.PropTypes.bool,scroll:s.PropTypes.bool,children:s.PropTypes.node,throttle:s.PropTypes.oneOfType([s.PropTypes.number,s.PropTypes.bool]),debounce:s.PropTypes.oneOfType([s.PropTypes.number,s.PropTypes.bool]),placeholder:s.PropTypes.node,unmountIfInvisible:s.PropTypes.bool},z.defaultProps={once:!1,offset:0,overflow:!1,resize:!1,scroll:!0,unmountIfInvisible:!1};t.lazyload=b.default;t.default=z,t.forceCheck=N}).call(t,o(61))},291:function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t,o,n,r){switch(e){case"top":return"4"!==t?0===n?s.default.createElement("td",{className:"top_songlist_rank"},s.default.createElement("i",{className:"icon_rank_new"})):o<n?s.default.createElement("td",{className:"top_songlist_rank"},s.default.createElement("i",{className:"icon_rank_up"}),n-o):o===n?s.default.createElement("td",{className:"top_songlist_rank"},s.default.createElement("i",{className:"icon_rank_keep"})):s.default.createElement("td",{className:"top_songlist_rank"},s.default.createElement("i",{className:"icon_rank_down"}),o-n):s.default.createElement("td",{className:"top_songlist_rank"},s.default.createElement("i",{className:"icon_rank_popular"}),(100*r).toFixed(0)+"%");case"global":default:return s.default.createElement("td",null)}}function i(e,t,o,n,i,a){var l=e.data,u=e.cur_count,_=e.old_count,m=e.in_count,h=l.albummid,g=l.albumname,y=l.songname,v=l.singer,b=l.interval,w=o+t+1;return s.default.createElement("tr",{key:t},s.default.createElement("td",{className:"top_songlist_count "+(w<4?"top_songlist_count_top":"")},w),r(n,i,+u,+_,+m),s.default.createElement("td",{className:"top_songlist_song"},s.default.createElement(c.Link,{to:"/album/song/"+h},s.default.createElement(p.default,{overflow:!0,offset:200,once:!0,placeholder:s.default.createElement("div",{className:"top_songlist_song_photo"})},s.default.createElement("img",{alt:g,src:""+d.ALBUM_PHOTO_90_URL+h+".jpg",className:"top_songlist_song_photo"}))),s.default.createElement("span",{className:"top_songlist_songname",onClick:function(){return a(l)}},(0,f.entityReplace)(y))),s.default.createElement("td",{className:"top_songlist_singer"},v.map(function(e,t){var o=e.name,n=e.mid;return[0!==t&&" / ",s.default.createElement(c.Link,{to:"/singer/song/"+n},(0,f.entityReplace)(o))]})),s.default.createElement("td",{className:"top_songlist_time"},(0,f.time2Min)(b)))}function a(e){var t=e.datas,o=e.topid,n=e.type,r=e.playSelectedSong;return s.default.createElement("table",{className:"top_songlist"},s.default.createElement("thead",null,s.default.createElement("tr",null,s.default.createElement("td",{className:"top_songlist_header_count"}),s.default.createElement("td",{className:"top_songlist_header_rank"}),s.default.createElement("td",{className:"top_songlist_header_song"},"歌曲"),s.default.createElement("td",{className:"top_songlist_header_singer"},"歌手"),s.default.createElement("td",{className:"top_songlist_header_time"},"时长"))),s.default.createElement("tbody",null,t.songlist.map(function(e,a){return i(e,a,t.song_begin,n,o,r)})))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=a;var l=o(2),s=n(l),c=o(12),u=o(175),p=n(u),f=o(25),d=o(24);o(332)},292:function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),s=o(2),c=n(s),u=o(10),p=o(13),f=o(58),d=o(26),_=o(25),m=o(291),h=n(m);o(333);var g=function(e,t,o){return e.find(function(e){return t==e.topid&&o===e.date})},y=function(e,t){return e.List.find(function(e){return t==e.topID})},v=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),l(t,[{key:"componentWillMount",value:function(){var e=this.props,t=e.lists,o=e.loadToplistOne,n=e.location.query,r=n.date,i=n.type,a=(0,_.getPathLastFromProps)(this.props);g(t,a,r)||o({topid:a,date:r,type:i})}},{key:"render",value:function(){var e=this.props,t=e.lists,o=e.all,n=e.location.query,r=n.date,i=n.type,a=(0,_.getPathLastFromProps)(this.props),l=g(t,a,r);if(l){for(var s={},u=o.length;u--&&!(s=y(o[u],a)););var p=s,f=p.headPic_v12,d=p.ListName;return c.default.createElement("div",{className:"toplist_page_wrap"},c.default.createElement("img",{src:f,alt:d,className:"toplist_page_header"}),c.default.createElement("div",{className:"top_songlist_wrap"},c.default.createElement(h.default,{datas:l,type:i,topid:a,playSelectedSong:this.props.playSelectedSong})))}return c.default.createElement("div",null,"加载中...")}}]),t}(s.Component),b=(0,p.createSelector)(f.getToplist,function(e){var t=e.lists,o=e.all;return{lists:t,all:o}}),w={loadToplistOne:f.toplistActions.loadToplistOne,playSelectedSong:d.playerActions.playSelectedSong};t.default=(0,u.connect)(b,w)(v)},303:function(e,t,o){t=e.exports=o(17)(),t.push([e.id,".top_songlist{position:relative;width:100%}.top_songlist thead{height:50px;line-height:50px;background-color:#fbfbfd;color:#999}.top_songlist tbody tr{height:80px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;font-size:14px}.top_songlist_count,.top_songlist_header_count{width:45px;text-align:right;font-size:24px;color:#333}.top_songlist_count_top{color:#ff4222}.top_songlist_header_rank,.top_songlist_rank{width:72px;font-size:12px;line-height:20px;text-align:center;color:#999}.icon_rank_down,.icon_rank_keep,.icon_rank_new,.icon_rank_popular,.icon_rank_re,.icon_rank_up{display:block;margin-left:auto;margin-right:auto;background-image:url(//y.gtimg.cn/mediastyle/yqq/img/icon_rank.png?max_age=2592000&v=a4df626c2c09dd0a7fa0a34716f5673c);background-image:-webkit-image-set(url(//y.gtimg.cn/mediastyle/yqq/img/icon_rank.png?max_age=2592000&v=a4df626c2c09dd0a7fa0a34716f5673c) 1x,url(//y.gtimg.cn/mediastyle/yqq/img/icon_rank@2x.png?max_age=2592000&v=a4df626c2c09dd0a7fa0a34716f5673c&v=300a447d4febafd3c7f7f6215d691e2d) 2x)}.icon_rank_keep{width:14px;height:3px;background-position:0 -30px}.icon_rank_up{background-position:0 0}.icon_rank_down,.icon_rank_up{width:14px;height:13px;margin-top:4px}.icon_rank_down{background-position:0 -15px}.icon_rank_new{width:23px;height:8px;margin-top:4px;background-position:0 -40px}.icon_rank_popular{width:15px;height:15px;margin-top:4px;background-position:0 -60px}.top_songlist_header_song,.top_songlist_song{padding-left:20px}.top_songlist_song_photo{width:70px;height:70px;margin-top:5px;float:left}.top_songlist_songname{display:inline-block;height:80px;line-height:80px;margin-left:20px;cursor:pointer}.top_songlist_songname:hover{color:#31c27c}.top_songlist_header_singer,.top_songlist_header_time,.top_songlist_singer,.top_songlist_time{padding-left:20px}.top_songlist_time{color:#999;padding-right:20px}.top_songlist tbody tr td a{cursor:pointer}.top_songlist tbody tr td a:hover{color:#31c27c}",""])},304:function(e,t,o){t=e.exports=o(17)(),t.push([e.id,".top_songlist_wrap,.toplist_page_wrap{width:100%;height:100%}.top_songlist_wrap{overflow:auto;padding-bottom:200px}.toplist_page_header{width:100%;height:150px}",""])},332:function(e,t,o){var n=o(303);"string"==typeof n&&(n=[[e.id,n,""]]);o(20)(n,{});n.locals&&(e.exports=n.locals)},333:function(e,t,o){var n=o(304);"string"==typeof n&&(n=[[e.id,n,""]]);o(20)(n,{});n.locals&&(e.exports=n.locals)},428:function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),s=o(175),c=n(s),u=o(2),p=n(u),f=function(e){return e.displayName||e.name||"Component"};t.default=function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];return function(t){return function(o){function n(){r(this,n);var e=i(this,Object.getPrototypeOf(n).call(this));return e.displayName="LazyLoad"+f(t),e}return a(n,o),l(n,[{key:"render",value:function(){return p.default.createElement(c.default,e,p.default.createElement(t,this.props))}}]),n}(u.Component)}}},429:function(e,t){"use strict";function o(e,t,o){var n=void 0,r=void 0,i=void 0,a=void 0,l=void 0,s=function s(){var c=+new Date-a;c<t&&c>=0?n=setTimeout(s,t-c):(n=null,o||(l=e.apply(i,r),n||(i=r=null)))};return function(){i=this,r=arguments,a=+new Date;var c=o&&!n;return n||(n=setTimeout(s,t)),c&&(l=e.apply(i,r),i=r=null),l}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o},430:function(e,t){"use strict";function o(e,t,o){e.addEventListener?e.addEventListener(t,o,!1):e.attachEvent&&e.attachEvent("on"+t,function(t){o.call(e,t||window.event)})}function n(e,t,o){e.removeEventListener?e.removeEventListener(t,o):e.detachEvent&&e.detachEvent("on"+t,o)}Object.defineProperty(t,"__esModule",{value:!0}),t.on=o,t.off=n},431:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if(!e)return document;for(var t="absolute"===e.style.position,o=/(scroll|auto)/,n=e;n;){if(!n.parentNode)return e.ownerDocument||document;var r=window.getComputedStyle(n),i=r.position,a=r.overflow,l=r["overflow-x"],s=r["overflow-y"];if("static"!==i||!t){if(o.test(a+l+s))return n;n=n.parentNode}}return e.ownerDocument||e.documentElement||document}},432:function(e,t){"use strict";function o(e,t,o){t||(t=250);var n,r;return function(){var i=o||this,a=+new Date,l=arguments;n&&a<n+t?(clearTimeout(r),r=setTimeout(function(){n=a,e.apply(i,l)},t)):(n=a,e.apply(i,l))}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o}});
//# sourceMappingURL=ToplistPage.0491c996.chunk.js.map